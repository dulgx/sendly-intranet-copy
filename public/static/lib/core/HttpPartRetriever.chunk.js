/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see legal.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[0],{327:function(ha,da,f){f.r(da);f.d(da,"ByteRangeRequest",function(){return ka});var ba=f(3),ea=f(0);f.n(ea);var fa=f(1),ca=f(109);ha=f(71);var aa=f(138),z=f(61),w=f(51),r=f(185),n=f(124);f=f(281);var y=[],e=[],x=window,h=function(){return function(){this.Pj=1}}(),ia;(function(e){e[e.UNSENT=0]="UNSENT";e[e.DONE=4]="DONE"})(ia||(ia={}));var ka=function(){function f(e,f,h,n){var w=this;this.url=e;this.range=f;this.tf=h;this.withCredentials=
n;this.cP=ia;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);x.Uint8Array&&(this.request.responseType="arraybuffer");n&&(this.request.withCredentials=n);oa.DISABLE_RANGE_HEADER||(Object(ea.isUndefined)(f.stop)?this.request.setRequestHeader("Range","bytes="+f.start):this.request.setRequestHeader("Range",["bytes=",f.start,"-",f.stop-1].join("")));this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");h&&Object.keys(h).forEach(function(e){w.request.setRequestHeader(e,
h[e])});this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=r.a.NOT_STARTED}f.prototype.start=function(e){var f=this,h=this.request;h.onreadystatechange=function(){if(f.aborted)return f.status=r.a.ABORTED,e({code:r.a.ABORTED});if(this.readyState===f.cP.DONE){f.Vv();var n=0===window.document.URL.indexOf("file:///");200===h.status||206===h.status||n&&0===h.status?(n=x.$I(this),
f.Cp(n,e)):(f.status=r.a.ERROR,e({code:f.status,status:this.status}))}};this.request.send(null);this.status=r.a.STARTED};f.prototype.Cp=function(e,f){this.status=r.a.SUCCESS;if(f)return f(!1,e)};f.prototype.abort=function(){this.Vv();this.aborted=!0;this.request.abort()};f.prototype.Vv=function(){var h=Object(n.b)(this.url,this.range,e);-1!==h&&e.splice(h,1);if(0<y.length){h=y.shift();var r=new f(h.url,h.range,this.tf,this.withCredentials);h.request=r;e.push(h);r.start(Object(n.c)(h))}};f.prototype.extend=
function(e){var f=Object.assign({},this,e.prototype);f.constructor=e;return f};return f}(),oa=function(f){function r(e,h,n,r,w){n=f.call(this,e,n,r)||this;n.Rj={};n.Pu=h;n.url=e;n.DISABLE_RANGE_HEADER=!1;n.zs=ka;n.eE=3;n.tf=w||{};return n}Object(ba.c)(r,f);r.prototype.Mq=function(e,f,h){var n=-1===e.indexOf("?")?"?":"&";switch(h){case !1:case w.a.NEVER_CACHE:e=e+n+"_="+Object(ea.uniqueId)();break;case !0:case ["CacheHinting.CACHE"]:e=e+n+"_="+f.start+","+(Object(ea.isUndefined)(f.stop)?"":f.stop)}return e};
r.prototype.sH=function(e,f,h,n){void 0===h&&(h={});return new this.zs(e,f,h,n)};r.prototype.cU=function(f,h,n,r,w){for(var x=0;x<y.length;x++)if(Object(ea.isEqual)(y[x].range,h)&&Object(ea.isEqual)(y[x].url,f))return y[x].Nf.push(r),y[x].Nw++,null;for(x=0;x<e.length;x++)if(Object(ea.isEqual)(e[x].range,h)&&Object(ea.isEqual)(e[x].url,f))return e[x].Nf.push(r),e[x].Nw++,null;n={url:f,range:h,Pu:n,Nf:[r],Nw:1};if(0===y.length&&e.length<this.eE)return e.push(n),n.request=this.sH(f,h,w,this.withCredentials),
n;y.push(n);return null};r.prototype.$k=function(f,h,r){var w=this.Mq(f,h,this.Pu);(f=this.cU(w,h,this.Pu,r,this.tf))&&f.request.start(Object(n.c)(f));return function(){var f=Object(n.b)(w,h,e);if(-1!==f){var r=--e[f].Nw;0===r&&e[f].request&&e[f].request.abort()}else f=Object(n.b)(w,h,y),-1!==f&&(r=--y[f].Nw,0===r&&y.splice(f,1))}};r.prototype.GI=function(){return{start:-ca.a}};r.prototype.yW=function(){var e=-(ca.a+ca.e);return{start:e-ca.d,end:e}};r.prototype.To=function(e){var f=this;this.Uu=!0;
var h=ca.a;this.$k(this.url,this.GI(),function(n,r,w){function x(){var h=f.ud.DI();f.$k(f.url,h,function(n,r){if(n)return Object(fa.h)("Error loading central directory: "+n),e(n);r=Object(z.a)(r);if(r.length!==h.stop-h.start)return e("Invalid XOD file: Zip central directory data is wrong size! Should be "+(h.stop-h.start)+" but is "+r.length);f.ud.eL(r);f.Iz=!0;f.Uu=!1;return e(!1)})}if(n)return Object(fa.h)("Error loading end header: "+n),e(n,r,w);r=Object(z.a)(r);if(r.length!==h)return e("Invalid XOD file: Zip end header data is wrong size!");
try{f.ud=new aa.a(r)}catch(wa){return e(wa)}f.ud.KX?f.$k(f.url,f.yW(),function(h,n){if(h)return Object(fa.h)("Error loading zip64 header: "+h),e(h);n=Object(z.a)(n);f.ud.ZX(n);x()}):x()})};r.prototype.WI=function(e){e(Object.keys(this.ud.Jk))};r.prototype.kC=function(e,f){var n=this;if(this.ud.kH(e)){var r=this.ud.Ov(e);if(r in this.Rj){var w=this.Dg[e];w.ho=this.Rj[r];w.ho.Pj++;w.cancel=w.ho.cancel}else{var x=this.ud.eV(e),y=this.$k(this.url,x,function(h,w){h?(Object(fa.h)('Error loading part "'+
e+'": '+h),n.$k(n.url,x,function(h,w){if(h)return f(h,e);n.fL(w,x,r,e,f)})):n.fL(w,x,r,e,f)}),z=this.Dg[e];z&&(z.LM=!0,z.cancel=function(){z.ho.Pj--;0===z.ho.Pj&&(y(),delete n.Rj[r])},this.Rj[r]=new h(r),z.ho=this.Rj[r],z.ho.cancel=z.cancel)}}else delete this.Dg[e],f(Error('File not found: "'+e+'"'),e)};r.prototype.fL=function(e,f,h,n,r){if(e.length!==f.stop-f.start)r(Error("Part data is wrong size!"),n);else{do{if(!this.Rj[h])return;n=this.Rj[h].Pj;for(var w=f.dL.length,x=0;x<w;++x){var y=f.dL[x];
r(!1,y.Xm,e["string"===typeof e?"substring":"subarray"](y.start,y.stop),this.ud.NJ(y.Xm));y.Xm in this.Dg&&delete this.Dg[y.Xm]}}while(n!==this.Rj[h].Pj);delete this.Rj[h]}};r.DISABLE_RANGE_HEADER=!1;r.eE=3;return r}(ha.a);(function(e){function f(f,h,n){var r=e.call(this)||this,w;for(w in f)r[w]=f[w];r.m4=f;r.startOffset=h;r.endOffset=n;r.sH=function(e,h,n,w){Object(ea.isUndefined)(h.stop)?(h.start+=r.endOffset,h.stop=r.endOffset):(h.start+=r.startOffset,h.stop+=r.startOffset);e=r.Mq(r.url,h,r.Pu);
return new f.zs(e,h,n,w)};return r}Object(ba.c)(f,e);return f})(oa);Object(f.a)(oa);Object(f.b)(oa);da["default"]=oa}}]);}).call(this || window)
