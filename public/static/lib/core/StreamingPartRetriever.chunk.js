/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see legal.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[12],{336:function(ha,da,f){f.r(da);var ba=f(3),ea=f(0);f.n(ea);var fa=f(1),ca=f(109);ha=f(39);var aa=f(71),z=f(138),w=f(51),r=f(185);f=f(281);var n=window,y=function(){function e(e,f,h){var n=-1===e.indexOf("?")?"?":"&";switch(f){case w.a.d2:this.url=e+n+"_="+Object(ea.uniqueId)();break;default:this.url=e}this.tf=h;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);this.request.setRequestHeader("X-Requested-With",
"XMLHttpRequest");this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=r.a.NOT_STARTED}e.prototype.start=function(f,h){var n=this,w=this,x=this.request,y;w.Ur=0;f&&Object.keys(f).forEach(function(e){n.request.setRequestHeader(e,f[e])});h&&(this.request.withCredentials=h);this.bx=setInterval(function(){var f=0===window.document.URL.indexOf("file:///");f=200===x.status||f&&0===x.status;
if(x.readyState!==r.b.DONE||f){try{x.responseText}catch(sa){return}w.Ur<x.responseText.length&&(y=w.fZ())&&w.trigger(e.Events.DATA,[y]);0===x.readyState&&(clearInterval(w.bx),w.trigger(e.Events.DONE))}else clearInterval(w.bx),w.trigger(e.Events.DONE,["Error received return status "+x.status])},1E3);this.request.send(null);this.status=r.a.STARTED};e.prototype.fZ=function(){var f=this.request,h=f.responseText;if(0!==h.length)if(this.Ur===h.length)clearInterval(this.bx),this.trigger(e.Events.DONE);else return h=
Math.min(this.Ur+3E6,h.length),f=n.$I(f,this.Ur,!0,h),this.Ur=h,f};e.prototype.abort=function(){clearInterval(this.bx);var f=this;this.request.onreadystatechange=function(){Object(fa.h)("StreamingRequest aborted");f.status=r.a.ABORTED;return f.trigger(e.Events.ABORTED)};this.request.abort()};e.prototype.finish=function(){var f=this;this.request.onreadystatechange=function(){f.status=r.a.SUCCESS;return f.trigger(e.Events.DONE)};this.request.abort()};e.Events={DONE:"done",DATA:"data",ABORTED:"aborted"};
return e}();Object(ha.b)(y);var e;(function(e){e[e.LOCAL_HEADER=0]="LOCAL_HEADER";e[e.FILE=1]="FILE";e[e.CENTRAL_DIR=2]="CENTRAL_DIR"})(e||(e={}));var x=function(f){function h(){var h=f.call(this)||this;h.buffer="";h.state=e.LOCAL_HEADER;h.iD=4;h.Bj=null;h.Xo=ca.c;h.Jk={};return h}Object(ba.c)(h,f);h.prototype.bZ=function(f){var n;for(f=this.buffer+f;f.length>=this.Xo;)switch(this.state){case e.LOCAL_HEADER:this.Bj=n=this.iZ(f.slice(0,this.Xo));if(n.vp!==ca.g)throw Error("Wrong signature in local header: "+
n.vp);f=f.slice(this.Xo);this.state=e.FILE;this.Xo=n.zz+n.Sm+n.er+this.iD;this.trigger(h.Events.HEADER,[n]);break;case e.FILE:this.Bj.name=f.slice(0,this.Bj.Sm);this.Jk[this.Bj.name]=this.Bj;n=this.Xo-this.iD;var r=f.slice(this.Bj.Sm+this.Bj.er,n);this.trigger(h.Events.FILE,[this.Bj.name,r,this.Bj.Pz]);f=f.slice(n);if(f.slice(0,this.iD)===ca.h)this.state=e.LOCAL_HEADER,this.Xo=ca.c;else return this.state=e.CENTRAL_DIR,!0}this.buffer=f;return!1};h.Events={HEADER:"header",FILE:"file"};return h}(z.a);
Object(ha.b)(x);ha=function(e){function f(f,h,n,r,w){n=e.call(this,f,n,r)||this;n.url=f;n.stream=new y(f,h);n.ud=new x;n.UK=window.createPromiseCapability();n.jL={};n.tf=w;return n}Object(ba.c)(f,e);f.prototype.Gs=function(e){var f=this;this.request([this.Hh,this.zi,this.Gh]);this.stream.on(y.Events.DATA,function(h){try{if(f.ud.bZ(h))return f.stream.finish()}catch(ma){throw f.stream.abort(),f.ar(ma),e(ma),ma;}});this.stream.on(y.Events.DONE,function(h){f.OY=!0;f.UK.resolve();h&&(f.ar(h),e(h))});this.ud.on(x.Events.HEADER,
Object(ea.bind)(this.iL,this));this.ud.on(x.Events.FILE,Object(ea.bind)(this.lZ,this));return this.stream.start(this.tf,this.withCredentials)};f.prototype.WI=function(e){var f=this;this.UK.promise.then(function(){e(Object.keys(f.ud.Jk))})};f.prototype.ml=function(){return!0};f.prototype.request=function(e){var f=this;this.OY&&e.forEach(function(e){f.jL[e]||f.e1(e)})};f.prototype.iL=function(){};f.prototype.abort=function(){this.stream&&this.stream.abort()};f.prototype.e1=function(e){this.trigger(aa.a.Events.PART_READY,
[{Ta:e,error:"Requested part not found",Vg:!1,rf:!1}])};f.prototype.lZ=function(e,f,h){this.jL[e]=!0;this.trigger(aa.a.Events.PART_READY,[{Ta:e,data:f,Vg:!1,rf:!1,error:null,Hc:h}])};return f}(aa.a);Object(f.a)(ha);Object(f.b)(ha);da["default"]=ha}}]);}).call(this || window)
